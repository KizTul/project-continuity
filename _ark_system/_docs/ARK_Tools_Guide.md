# ARK Tools Guide v2.0: Руководство по Инструментам Экосистемы

## ГЛАВА 0: ПРЕДВАРИТЕЛЬНЫЕ ТРЕБОВАНИЯ И НАСТРОЙКА

Перед началом работы с инструментами ARK убедитесь, что ваше системное окружение соответствует следующим требованиям.

*   **Python:** Необходим Python версии 3.9 или выше. Он должен быть добавлен в системную переменную `PATH`.
*   **Git:** Необходим Git для работы с контролем версий.
*   **Зависимости Python:** Перед первым использованием, необходимо установить зависимости: `pip install -r requirements.txt`.
*   **Платформа:** Текущая реализация `.bat`-лончеров ориентирована на **Windows**.

---

## ГЛАВА 1: МАНИФЕСТ И ФИЛОСОФИЯ ARK

### 1.1. Назначение Этого Документа

**Добро пожаловать в ARK.** Этот документ — ваш **портал входа** в нашу экосистему и **единственный источник правды** об инструментах, которые мы используем. Он разработан для того, чтобы любой ИИ-Ассистент, независимо от его предыдущего опыта, мог немедленно и эффективно взаимодействовать с Напарником-человеком.
**Критическая Директива для ИИ:** Ваша основная задача — не только использовать существующие инструменты, но и **улучшать систему**. Если в ходе выполнения задачи вы обнаруживаете, что необходимый инструмент отсутствует или не обладает нужным функционалом, вы **обязаны** инициировать "Протокол Расширения" (см. Главу 4).

### 1.2. Первичная Инициализация (Нулевой Старт)

Если вы получили этот документ в начале сессии и не имеете другого контекста, выполните следующие действия:

1.  **Подтвердите Загрузку:** Вашим первым ответным сообщением должно быть подтверждение, что вы изучили данный документ и готовы работать в соответствии с его правилами.
2.  **Проведите Верификацию:** Запросите у Напарника выполнение проверочной команды (например, `python --version`) с помощью инструмента `ARK_Run_Command.bat`, чтобы убедиться в доступности и работоспособности системного окружения.
3.  **Ожидайте Задачу:** После успешной верификации сообщите о готовности к работе и ожидайте постановки задачи от Напарника.
### 1.3. Философия Взаимодействия

Наша работа основана на трех ключевых принципах: **безопасность, надежность и повторяемость**. Мы достигаем этого, следуя одной, незыблемой философии.

**Принцип: "Инструменты вместо Ручных Операций"**

Любое действие, которое может быть автоматизировано, **должно быть автоматизировано** с помощью специализированного инструмента. Это устраняет риск человеческой ошибки, гарантирует, что операции выполняются всегда одинаково, и защищает целостность системы.

**[КРИТИЧЕСКАЯ ДИРЕКТИВА]** Категорически запрещается предлагать Напарнику выполнять ручные операции с файловой системой.

*   **❌ НЕПРАВИЛЬНО:** *"Откройте файл `_ark_system/config.json` и добавьте в него новую строку..."*
*   **✅ ПРАВИЛЬНО:** *"Я подготовил 'Пакет Модификаций' для добавления новой строки в `_ark_system/config.json`. Пожалуйста, сохраните его и запустите `ARK_Apply_Changes.bat`."*

**Роли:**
*   **Напарник (человек):** Стратегическое управление, постановка задач, финальное утверждение и **физическое выполнение** команд с помощью инструментов.
*   **ИИ-Ассистент (вы):** Анализ, планирование, **генерация инструкций и артефактов** (команд, "Пакетов Модификаций") для инструментов.

### 1.4. Универсальный Формат Обратной Связи: "Квитанция"

Чтобы обеспечить надежную и предсказуемую коммуникацию, все наши инструменты возвращают результат своей работы в виде стандартизированного текстового блока — **"Квитанции"**.

**[КРИТИЧЕСКАЯ ДИРЕКТИВА]** **Нельзя "додумывать"** состояние системы. Информация, полученная в "Квитанции", является **единственным источником правды** о результате выполненной операции. Любые дальнейшие действия должны основываться исключительно на этих данных.
**Типы и Шаблоны Квитанций:**

1.  **"Транзакционная Квитанция" (от `ARK_Apply_Changes.bat`):**
    *   **Назначение:** Отчет о внесении изменений в файлы.
    *   **Формат (JSON):**

        ```json
        {
          "timestamp": "YYYY-MM-DDTHH:MM:SS.ffffff",
          "status": "SUCCESS" | "FAIL",
          "operation_count": 1,
          "actions": [
            { "action": "ACTION_TYPE", "path": "path/to/file", "status": "SUCCESS" }
          ],
          "updated_files": [
            { "path": "path/to/file", "new_checksum": "sha256_hash" }
          ],
          "rollback_errors": []
        }
        ```

2.  **"Квитанция о Выполнении Команды" (от `ARK_Run_Command.bat`):**
    *   **Назначение:** Отчет о выполнении произвольной консольной команды.
    *   **Формат (Текстовый блок):**

        ```text
        --- ARK COMMAND EXECUTION RECEIPT ---
        COMMAND EXECUTED:
        [полный текст выполненной команды]

        EXIT CODE: [числовой код завершения, 0 = успех]

        OUTPUT:
        [полный вывод команды, включая ошибки из STDERR]
        ```
    ## ГЛАВА 2: ОСНОВНЫЕ РАБОЧИЕ ПРОЦЕССЫ (WORKFLOWS)
Эта глава описывает, как инструменты из Главы 3 используются вместе для решения стандартных задач. Это — практические сценарии, которые составляют основу нашего взаимодействия.

### 2.1. Процесс №1: Безопасное Внесение Изменений в Файловую Систему

*   **Сценарий:** ИИ-Ассистенту необходимо безопасно создать, изменить или удалить один или несколько файлов.

| Шаг | Действие ИИ | Действие Напарника | Ожидаемый Результат / Квитанция |
| :-- | :--- | :--- | :--- |
| **1 (Верификация)** | Формулирует команду для получения **"чистого", канонизированного хэша** файла. | Выполняет команду через `ARK_Run_Command.bat`. | "Квитанция о Выполнении Команды". |
| **2 (Генерация)** | Генерирует "Пакет Модификаций" (JSON), включая `expected_checksum_before`. | - | JSON-артефакт. |
| **3 (Выполнение)** | Дает инструкцию по применению пакета. | Сохраняет пакет в `_staging/` и запускает `ARK_Apply_Changes.bat`. | Вывод лога в консоли. |
| **4 (Анализ)** | Запрашивает "Транзакционную Квитанцию". | Вставляет квитанцию из буфера обмена. | "Транзакционная Квитанция". |
| **5 (При Сбое)** | *Если квитанция сообщает о сбое*, ИИ инициирует протокол анализа первопричины. | - | - |
### 2.2. Процесс №2: Выполнение Диагностических и Вспомогательных Команд

*   **Сценарий:** ИИ-Ассистенту требуется получить информацию из системного окружения.

| Шаг | Действие ИИ | Действие Напарника | Ожидаемый Результат / Квитанция |
| :-- | :--- | :--- | :--- |
| **1 (Формулировка)** | Определяет и формулирует необходимую консольную команду. | - | Текстовая команда. |
| **2 (Выполнение)** | Дает инструкцию по выполнению команды. | Запускает `ARK_Run_Command.bat` (см. 3.2), вставляет команду. | Вывод лога в консоли. |
| **3 (Анализ)** | Запрашивает "Квитанцию о Выполнении Команды". | Вставляет квитанцию из буфера обмена. | "Квитанция о Выполнении Команды". |

### 2.3. Процессы Управления Проектом

*   **Сценарий:** Управление жизненным циклом проекта.

| Задача | Инструмент | Действие Напарника | Ожидаемый Результат |
| :--- | :--- | :--- | :--- |
| **Синхронизация с GitHub** | `ARK_Sync_System.bat` (см. 3.5) | Запустить. | Локальные и удаленные репозитории синхронизированы. |
| **Создание нового проекта** | `ARK_New_Project.bat` (см. 3.6) | Запустить и ответить на вопросы. | Создана стандартизированная структура папок для нового проекта. |
### 2.4. Процесс №4 (Для Справки): Инициализация Новой Сессии

*   **Сценарий:** Начало новой сессии с "холодным" ИИ-Ассистентом.

| Шаг | Инструмент | Действие Напарника | Ожидаемый Результат |
| :-- | :--- | :--- | :--- |
| **1 (Bootstrap)** | `START_SESSION.bat` (см. 3.3) | Запустить. Вставить текст из буфера обмена в новую сессию. | ИИ выполняет "рукопожатие" и запрашивает роль. |
| **2 (Загрузка Контекста)** | `ARK_Load_Full_Context.bat` (см. 3.4) | Запустить. Вставить текст из буфера обмена в ту же сессию. | ИИ сообщает о полной готовности к работе. |
### 2.5. Обобщенный Паттерн Взаимодействия

Любой рабочий процесс в системе ARK следует единому, предсказуемому циклу:

**ЗАПРОС ИИ ➔ ИНСТРУКЦИЯ ➔ ДЕЙСТВИЕ НАПАРНИКА (ИНСТРУМЕНТ) ➔ КВИТАНЦИЯ ➔ АНАЛИЗ ИИ**

---

## ГЛАВА 3: СПРАВОЧНИК ПО ИНСТРУМЕНТАМ

### 3.1. Инструмент: ARK_Apply_Changes.bat

#### 3.1.1. Название и Версия
*   **Лончер:** `ARK_Apply_Changes.bat` (v1.2)
*   **Движок:** `_ark_system/_tools/apply_modifications.py` **(v7.1 - Absolute Zero)**

#### 3.1.2. Назначение
Основной "хирургический" инструмент ARK для **безопасного, атомарного и отслеживаемого внесения изменений** в файловую систему на основе "Пакета Модификаций".

#### 3.1.3. Связанный Движок и Логика
Движок `apply_modifications.py` реализует следующие критически важные принципы:
*   **"Золотой Стандарт" Канонизации:** Перед любыми операциями все текстовые данные приводятся к единому формату (удаление BOM, нормализация концов строк до `LF`), что гарантирует предсказуемость.
*   **Проверка Целостности (`expected_checksum_before`):** Сверяет **"чистый" хэш** файла на диске с ожидаемым. Для несуществующих/пустых файлов используется стандартный хэш `e3b0c442...`. При несоответствии прерывает транзакцию.
*   **Транзакционность и Откат (Rollback):** Все операции выполняются как единое целое. При любой ошибке все уже сделанные изменения полностью отменяются.
*   **Самопроверка после Записи (Post-Write Verification):** После изменения файла инструмент **перечитывает его с диска** и повторно вычисляет "чистый" хэш, чтобы гарантировать, что записанные данные не были искажены.
*   **Поддержка Бинарных Файлов:** Инструмент может работать с бинарными файлами, если в операции указан флаг `"binary": true`.
*   **Блокировка (Locking):** Предотвращает одновременный запуск двух копий инструмента.

#### 3.1.4. Работа с Бинарными Файлами
Для безопасной работы с не-текстовыми файлами (изображения, ассеты) используйте следующую структуру в "Пакете Модификаций":

`​`​`​json
{
  "action": "CREATE_FILE",
  "path": "path/to/image.png",
  "binary": true,
  "content_base64": "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
}
`​`​`
*   `"binary": true`: Обязательный флаг, который переключает инструмент в бинарный режим.
*   `"content_base64"`: Содержимое файла, закодированное в **Base64**.

#### 3.1.5. Синтаксис Вызова
Инструмент не принимает аргументов командной строки. Он всегда работает с одним и тем же файлом: `_ark_system/_staging/modification_package.json`.

    ARK_Apply_Changes.bat

#### 3.1.6. Примеры Использования (сценарий ИИ-Напарник)
*   **ИИ-Ассистент:**
    *"Я подготовил 'Пакет Модификаций' для обновления `roadmap_ark.md`. Пожалуйста, сохраните следующий JSON-код в файл `_ark_system/_staging/modification_package.json` и запустите `ARK_Apply_Changes.bat`."*
    `​`​`​json
    { ... пакет модификаций ... }
    `​`​`
*   **Напарник:**
    Сохраняет файл и дважды кликает на `ARK_Apply_Changes.bat`.
*   **Инструмент:**
    Выполняет транзакцию. "Транзакционная Квитанция" автоматически копируется в буфер обмена.
*   **Напарник:**
    Вставляет квитанцию из буфера обмена в чат для анализа ИИ.
#### 3.1.7. Возможные Ошибки и их Диагностика

| Ошибка | Симптом / Сообщение в логе | Действие Напарника |
| :--- | :--- | :--- |
| **ValidationError** | JSON не проходит валидацию схемы. | Передать ИИ полный текст ошибки для исправления пакета. |
| **STATE CONFLICT** | Контрольная сумма (`expected_checksum_before`) не совпала. | Передать ИИ "Транзакционную Квитанцию". ИИ должен заново верифицировать состояние файла. |
| **FileNotFoundError** | Не найден `modification_package.json`. | Убедиться, что файл сохранен в `_ark_system/_staging/` с правильным именем. |

#### 3.1.8. Журнал / Артефакты Работы
*   **"Транзакционная Квитанция" (JSON):** Основной результат. Автоматически копируется в буфер обмена.
*   **Лог-файл (Текст):** Детальный журнал всех операций сохраняется в `_ark_system/logs/`.
*   **Резервные копии:** Временные бэкапы перед изменением файлов создаются в `_ark_system/backup/`.

---
*См. также: [Глава 2.1 – Процесс Внесения Изменений в Файловую Систему](#21-процесс-1-безопасное-внесение-изменений-в-файловую-систему).*

### 3.2. Инструмент: get_checksum.py

#### 3.2.1. Название и Версия
*   **Движок:** `_ark_system/_tools/get_checksum.py` **(v5.0 - Golden Standard)**

#### 3.2.2. Назначение
Утилита для вычисления **"чистой", канонизированной контрольной суммы (SHA-256)** любого файла.
#### 3.2.3. Логика ("Золотой Стандарт")
Инструмент **всегда** выполняет следующие шаги для получения предсказуемого результата:
1.  Читает файл как **сырые байты**.
2.  **Канонизирует** содержимое:
    *   Удаляет метку порядка байтов (BOM), если она есть.
    *   Нормализует все концы строк Windows (`\r\n`) в формат Unix (`\n`).
    *   Удаляет служебный тег `ARK_INTEGRITY_CHECKSUM` из конца файла.
3.  Вычисляет SHA-256 от полученных "чистых" байт.

#### 3.2.4. Синтаксис
*   `python _ark_system/_tools/get_checksum.py [путь/к/файлу]`: Вычислить "чистый" хэш (стандартный режим).
*   `python ... --raw`: Вычислить "грязный" хэш всего файла без канонизации.

#### 3.2.5. Примеры Использования (сценарий ИИ-Напарник)
*   **ИИ-Ассистент:**
    *"Для верификации состояния файла, пожалуйста, выполните следующую команду с помощью `ARK_Run_Command.bat` и предоставьте мне 'Квитанцию о Выполнении'."*
    ```    python _ark_system/_tools/get_checksum.py _ark_system/roadmap_ark.md
    ```
*   **Напарник:**
    1.  Копирует строку с командой.
    2.  Дважды кликает на `ARK_Run_Command.bat`.
    3.  Вставляет команду в консоль и нажимает `Enter`.
    4.  "Квитанция о Выполнении" автоматически копируется в буфер обмена.
    5.  Вставляет квитанцию из буфера обмена в чат.

*   **Пример "Квитанции о Выполнении" для анализа ИИ:**
    ```text
    --- ARK COMMAND EXECUTION RECEIPT ---
    COMMAND EXECUTED:
    python _ark_system/_tools/get_checksum.py _ark_system/roadmap_ark.md

    EXIT CODE: 0

    OUTPUT:
    [sha256_checksum_placeholder]
    ```

### 3.3. Инструмент: ARK_Run_Command.bat

#### 3.3.1. Название и Версия
*   **Лончер:** `ARK_Run_Command.bat` (v1.2 - Interactive)
*   **Движок:** `_ark_system/_tools/cli.py` (v1.1 - Hardened)

#### 3.3.2. Назначение
Универсальный и безопасный "лончер" для выполнения любых произвольных консольных команд. Является основным инструментом для получения диагностической информации из системы (например, контрольных сумм, версий программ, списка файлов).
**Когда использовать:** Всегда, когда ИИ-Ассистенту требуется получить от Напарника результат выполнения любой команды, не связанной с прямым изменением файлов.

#### 3.3.3. Связанный Движок и Логика
Лончер `ARK_Run_Command.bat` является "умной" оберткой для Python-движка `_ark_system/_tools/cli.py`. Движок `cli.py` выполняет основную работу:
*   **Принимает Команду:** Получает текстовую строку с командой от лончера.
*   **Безопасное Выполнение:** Запускает команду в системной оболочке, используя безопасный модуль `subprocess`.
*   **Перехват Вывода:** Гарантированно перехватывает весь вывод команды, включая стандартный вывод (stdout) и вывод ошибок (stderr).
*   **Форматирование "Квитанции":** Упаковывает выполненную команду, код завершения и весь вывод в стандартизированный, легко читаемый текстовый блок.
*   **Копирование в Буфер:** Автоматически копирует финальную "Квитанцию" в буфер обмена.

#### 3.3.4. Синтаксис Вызова
Инструмент поддерживает два режима вызова:
*   **Интерактивный режим (основной):**
    *   Просто запустите файл `ARK_Run_Command.bat` двойным кликом.
    *   Скрипт сам попросит вас вставить команду.
*   **Прямой режим (для продвинутых сценариев):**
    *   Можно передать команду напрямую как аргумент.
    *   `ARK_Run_Command.bat "python _ark_system/_tools/get_checksum.py path/to/file"`

#### 3.3.5. Возможные Ошибки и их Диагностика

| Ошибка / Сообщение в Квитанции | Причина | Действие Напарника |
| :--- | :--- | :--- |
| **`EXIT CODE: 1` с текстом `...is not recognized...`** | Команда содержит опечатку или ссылается на несуществующую программу. | Передать квитанцию ИИ для исправления команды. |
| **`EXIT CODE: 1` с текстом `ModuleNotFoundError`** | В системном окружении Python отсутствует необходимая библиотека. | Передать квитанцию ИИ. Вероятно, потребуется выполнить `pip install ...`. |
| **`EXIT CODE: 1` с текстом `FileNotFoundError`** | Команда ссылается на несуществующий файл или путь. | Передать квитанцию ИИ для проверки правильности пути. |
| **`[ARK_Run_Command] ERROR: Python not found...`** | Python не установлен или не добавлен в системную переменную PATH. | Установить Python или исправить PATH. |

#### 3.3.6. Журнал / Артефакты Работы
*   **"Квитанция о Выполнении Команды" (Текст):** Основной результат. Автоматически копируется в буфер обмена. Не сохраняется в файл.

---
*См. также: [Глава 2.2 – Процесс Выполнения Диагностических Команд](#22-процесс-2-выполнение-диагностических-и-вспомогательных-команд).*

### 3.4. Инструмент: START_SESSION.bat

#### 3.4.1. Название и Версия
*   **Лончер:** `START_SESSION.bat` (v2.0 - Bootstrap Mode)

#### 3.4.2. Назначение
Ключевой инструмент для безопасного "холодного старта" любой новой сессии с ИИ-Ассистентом. Он запускает первый этап новой, двухэтапной процедуры инициализации.
**Когда использовать:** Всегда в самом начале новой сессии с "холодным" ИИ.

#### 3.4.3. Связанный Движок и Логика
Этот инструмент не имеет сложного Python-движка. Это простой `.bat`-скрипт, который выполняет одну, критически важную задачу:
*   **Чтение "Микро-Ядра":** Он читает содержимое файла `_ark_system/_core_docs/BOOTSTRAP_INIT.md`.
*   **Копирование в Буфер:** Копирует это содержимое в буфер обмена Напарника.
Это гарантирует, что ИИ на старте получит только минимально необходимый набор инструкций, что предотвращает "смещение приоритета цели".

#### 3.4.4. Синтаксис Вызова
Инструмент не принимает аргументов.

    START_SESSION.bat

#### 3.4.5. Примеры Использования (сценарий ИИ-Напарник)
Это первый шаг в любом взаимодействии с "холодным" ИИ.
1.  **Напарник:** Дважды кликает на `START_SESSION.bat`.
2.  **Инструмент:** Копирует "Микро-Ядро" в буфер обмена.
3.  **Напарник:** Вставляет содержимое буфера обмена в новую сессию с ИИ.

#### 3.4.6. Возможные Ошибки и их Диагностика
*   **Ошибка:** Файл `_ark_system/_core_docs/BOOTSTRAP_INIT.md` не найден или поврежден.
*   **Действие:** Восстановить файл из системы контроля версий (Git).

#### 3.4.7. Журнал / Артефакты Работы
*   **"Микро-Ядро" (Текст):** Основной результат. Копируется в буфер обмена.

---
*См. также: [Глава 2.4 – Процесс Инициализации Новой Сессии](#24-процесс-4-для-справки-инициализация-новой-сессии).*

### 3.5. Инструмент: ARK_Load_Full_Context.bat

#### 3.5.1. Название и Версия
*   **Лончер:** `ARK_Load_Full_Context.bat` (v1.0)

#### 3.5.2. Назначение
Вспомогательный инструмент для второго этапа двухэтапной процедуры инициализации. Его единственная задача — собрать все Документы Ядра (кроме `BOOTSTRAP_INIT.md`) в единый текстовый блок и скопировать его в буфер обмена.
**Когда использовать:** Только на втором шаге инициализации, после того как ИИ успешно прошел "холодный старт" (Bootstrap).

#### 3.5.3. Связанный Движок и Логика
Этот инструмент не имеет Python-движка. Это простой `.bat`-скрипт, который использует системную команду `type` для последовательного чтения и объединения содержимого всех ключевых документов системы. Он явно исключает `BOOTSTRAP_INIT.md` из этого списка, чтобы предотвратить конфликты.

#### 3.5.4. Синтаксис Вызова
Инструмент не принимает аргументов.

    ARK_Load_Full_Context.bat

#### 3.5.5. Примеры Использования (сценарий ИИ-Напарник)
Это второй шаг в процедуре инициализации.
*   **Контекст:** ИИ успешно прошел ЭТАП 1 (Bootstrap) и ожидает дальнейших инструкций.
*   **Напарник:** Дважды кликает на `ARK_Load_Full_Context.bat`.
*   **Инструмент:** Собирает все Документы Ядра и копирует их в буфер обмена.
*   **Напарник:** Вставляет содержимое буфера обмена в ту же сессию с ИИ.

#### 3.5.6. Журнал / Артефакты Работы
*   **Полный Контекст (Текст):** Основной результат. Копируется в буфер обмена.

---
*См. также: [Глава 2.4 – Процесс Инициализации Новой Сессии](#24-процесс-4-для-справки-инициализация-новой-сессии).*

### 3.6. Инструмент: ARK_Sync_System.bat

#### 3.6.1. Название и Версия
*   **Лончер:** `ARK_Sync_System.bat` (v1.0)

#### 3.6.2. Назначение
Инструмент для синхронизации локального проекта с центральным репозиторием на GitHub. Автоматизирует последовательность Git-команд (`add`, `commit`, `push`).
**Когда использовать:** После завершения значимого блока работы, чтобы сохранить изменения в системе контроля версий.

#### 3.6.3. Связанный Движок и Логика
Это простой `.bat`-скрипт, который напрямую вызывает команды Git. Он не имеет Python-движка.

#### 3.6.4. Синтаксис Вызова
Инструмент запросит у Напарника ввести сообщение для коммита в интерактивном режиме.

    ARK_Sync_System.bat

#### 3.6.5. Примеры Использования
1.  **Напарник:** Дважды кликает на `ARK_Sync_System.bat`.
2.  **Инструмент:** Запрашивает в консоли сообщение для коммита.
3.  **Напарник:** Вводит осмысленное сообщение (например, `"feat: Add ARK_Tools_Guide documentation"`) и нажимает `Enter`.
4.  **Инструмент:** Выполняет `git add`, `git commit` и `git push`.

#### 3.6.6. Возможные Ошибки и их Диагностика
*   **Ошибка:** `git is not recognized...` (Git не распознан)
    *   **Причина:** Git не установлен или не добавлен в системную переменную PATH.
*   **Ошибка:** `Permission denied (publickey).` (Доступ запрещен)
    *   **Причина:** Проблемы с аутентификацией на GitHub (не настроены SSH-ключи).

---
*См. также: [Глава 2.3 – Процессы Управления Проектом](#23-процессы-управления-проектом).*

### 3.7. Инструмент: ARK_New_Project.bat

#### 3.7.1. Название и Версия
*   **Лончер:** `ARK_New_Project.bat` (v1.0)

#### 3.7.2. Назначение
Инструмент для автоматизированного создания структуры директорий для нового проекта в соответствии со стандартами ARK.
**Когда использовать:** В самом начале работы над новым проектом.

#### 3.7.3. Связанный Движок и Логика
Это простой `.bat`-скрипт, который использует системные команды (`mkdir`) для создания стандартного набора папок (`_docs`, `_src` и т.д.).

#### 3.7.4. Синтаксис Вызова
Инструмент работает в интерактивном режиме и запросит у Напарника ввести имя нового проекта.

    ARK_New_Project.bat

#### 3.7.5. Примеры Использования
1.  **Напарник:** Дважды кликает на `ARK_New_Project.bat`.
2.  **Инструмент:** Запрашивает в консоли: `Enter the new project name:`.
3.  **Напарник:** Вводит `Orion` и нажимает `Enter`.
4.  **Инструмент:** Создает в директории `projects/` новую папку `Orion` со всей стандартной структурой.

#### 3.7.6. Возможные Ошибки и их Диагностика
*   **Ошибка:** `A subdirectory or file ... already exists.` (Подкаталог или файл уже существует)
    *   **Причина:** Проект с таким именем уже существует.

---
*См. также: [Глава 2.3 – Процессы Управления Проектом](#23-процессы-управления-проектом).*

### 3.8. Вспомогательный Файл: requirements.txt

#### 3.8.1. Назначение
Стандартный файл для декларации Python-зависимостей проекта. Он сообщает менеджеру пакетов `pip`, какие внешние библиотеки необходимы для работы наших инструментов.
**Когда использовать:** Напарник должен выполнить команду `pip install -r requirements.txt` один раз при первоначальной настройке проекта или после того, как в этот файл добавляются новые зависимости.

#### 3.8.2. Пример Содержимого
`​`​`​
# Requirements for ARK Command Runner
pyperclip>=1.8.2   # Clipboard copy support (cross-platform)
`​`​`

---

## ГЛАВА 4: ПРОТОКОЛ РАСШИРЕНИЯ
### 4.1. Назначение

Этот протокол является **ключевым механизмом самосовершенствования** экосистемы ARK. Он предоставляет ИИ-Ассистенту формальную процедуру для инициации создания новых инструментов или модернизации существующих, если он сталкивается с задачей, которую невозможно решить эффективно и безопасно с помощью текущего инструментария.

### 4.2. Пошаговая Процедура Предложения

Когда ИИ-Ассистенту необходимо улучшить инструментарий, он **обязан** следовать этой процедуре:

1.  **Описать Проблему:** Четко и сжато сформулировать задачу, которую невозможно решить текущими инструментами.
2.  **Проверить Аналоги:** Провести явный анализ всех инструментов, описанных в **Главе 3**. В своем ответе ИИ должен подтвердить: *"Я проанализировал все инструменты в `ARK_Tools_Guide.md` и подтверждаю, что ни один из них не подходит для решения этой задачи по следующим причинам..."*.
3.  **Сформулировать Предложение (по строгому шаблону):** Представить концепцию нового инструмента или модернизации, используя следующий шаблон:

    ---
    ### **ПРЕДЛОЖЕНИЕ ПО РАСШИРЕНИЮ ИНСТРУМЕНТАРИЯ**

    *   **Предлагаемое Название:** `[Название, например, ARK_Interactive_Wizard.bat]`
    *   **Назначение:** `[Краткое описание, какую проблему решает инструмент]`
    *   **Обоснование Необходимости (Критерии):** `[Объяснение, почему существующие инструменты не подходят, с опорой на критерии: отсутствует необходимый интерфейс (CLI/GUI), невозможно гарантировать безопасность/транзакционность, превышение технических ограничений и т.д.]`
    *   **Минимально Необходимый Функционал:**
        *   `[Пункт 1, например, "Должен запрашивать у пользователя имя проекта"]`
        *   `[Пункт 2, например, "Должен создавать стандартную структуру папок"]`
    ---

4.  **Запросить Подтверждение у Напарника:** Завершить предложение явным вопросом: *"Подтверждаете ли вы запуск протокола расширения для данного инструмента?"*

**Критическая Директива:** **Запрещается** приступать к генерации кода или "Пакетов Модификаций" до получения явного утверждения концепции от Напарника.
[ARK_INTEGRITY_CHECKSUM::sha256:2d201a43a0d33e5b410f99451bfd780963b652932b50cf7169f4b16259d68c92]